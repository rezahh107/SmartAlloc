# ü§ñ AI Development Conventions (SmartAlloc)

**Before proposing code**, the LLM must consider QA, i18n/RTL, security, and release impact.

- If you touch translation calls (`__`, `_e`, `_x`, etc.):
  - Run `php scripts/pot-refresh.php` post-change.
  - Ensure text-domain is `smartalloc`.

- If UI changes (admin screen, Gutenberg, front-end):
  - Recommend RTL/E2E snapshot: `E2E=1 E2E_RTL=1 npx playwright test tests/e2e/rtl-snapshot.spec.ts`.

- If REST/SQL/permissions change:
  - Recommend running security scanners and GA Enforcer (`--profile=rc` advisory; `--profile=ga --enforce` for gates).

- When adding tests or changing code that affects translation or UI:
  - Run `php scripts/coverage-import.php` and `php scripts/artifact-schema-validate.php` before `php scripts/ga-enforcer.php --profile=rc --junit`.
  - The JUnit output always includes a testcase `Artifacts.Schema`; it is skipped in advisory mode and fails under `--enforce` if schema warnings exceed thresholds.
Always append **post-change commands** in your answer:
```bash
php scripts/coverage-import.php
php scripts/artifact-schema-validate.php
php scripts/ga-enforcer.php --profile=rc --junit
# If UI changed:
E2E=1 E2E_RTL=1 npx playwright test tests/e2e/rtl-snapshot.spec.ts
```

Never assume a change is ‚Äútoo small‚Äù to impact QA.
